<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title th:text="${title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles.css">
</head>


<body>

<!-- Шапка страницы -->
<div th:insert="/blocks/sidebar :: sidebar"></div>

<div class="container mt-3 forAll">
    <h1>Все сотрудники</h1>

    <ul class="dropdown-menu position-static d-grid gap-1 rounded-3 mx-0 shadow" data-bs-theme="light">
        <div th:each="el : ${staffs}">
            <a class="dropdown-item rounded-2" th:staffHref="'staff' + ${el.id}" style="cursor: pointer" th:text="${el.name} + ' ' + ${el.patronymic} + ' ' + ${el.surname}"></a>
            <hr class="dropdown-divider">
        </div>
    </ul>
</div>

<!-- Футер страницы -->
<footer th:insert="/blocks/footer :: footer"></footer>
</body>


<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }
</script>

<script>
    const tableRows = document.querySelectorAll('a[staffHref]');

    tableRows.forEach(row => {
        row.addEventListener('click', () => {
            const url = row.getAttribute('staffHref');
            window.location.href = url;
        });
    });
</script>

</html>